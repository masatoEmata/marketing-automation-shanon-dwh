# Guideline for Data Modeling

## Staging Layer

RAWテーブルを所与として、テストデータなど不要なデータを削除したり、動的に増減する属性項目が長大な列持ちになっているデータを行持ちにするなど、データを使用しやすい形に整形する。

## Mart Layer

- Martテーブルは、BIツールやデータ分析ツールで使用することを前提に、データを集約したり、分析しやすい形に整形したもの。データの粒度は、BIツールやデータ分析ツールでの利用方法に応じて決定する。例えば、日次で集計する場合は、日次の粒度でMartテーブルを作成する。
- 特定のパターンで結合して使用することが通常のディメンションテーブルとファクトテーブル、および、LLMで処理するデータについては、この層で結合して One Big Table (obt_*)を作成しておく。martやobtの親テーブルには、基本Dimension Layer と Fact Layer の両方のテーブルを使用することとするが、マッピングテーブルなどDimension, Factに通常使用しないStaging Layerのテーブルについては、直接このLayerで使用しても良い。
